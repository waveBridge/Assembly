DATA SEGMENT
	DIR DB 'D:\CODE',0;						;目录
	FILE DB '2.asm',0						;要匹配的文件名
DATA ENDS

STACK SEGMENT
	DB 50 DUP (0)
STACK ENDs

CODE SEGMENT
	ASSUME DS:DATA, CS:CODE, SS:STACK
START:	MOV AX, DATA
		MOV DS, AX
		 
		LEA DX, DIR
		MOV AH, 3BH
		INT 21H
		JC GO
		MOV AH, 02H
		MOV DL, 31H
		INT 21H
		
		;到达当前目录了，准备打开文件
		LEA DX, FILE
		MOV AH, 4EH
		INT 21H
		JC GO
		MOV AH, 02H
		MOV DL, 31H
		INT 21H
		
		JMP EXIT
		
GO:		MOV AH, 02H
		MOV DL, 30H
		INT 21H
		
EXIT:	MOV AH, 4CH
		INT 21H
		

CODE ENDS
END START